diff --git a/dcraw/dcraw.c b/dcraw/dcraw.c
index 8ea5cd72..938cab6a 100644
--- a/dcraw/dcraw.c
+++ b/dcraw/dcraw.c
@@ -841,7 +841,8 @@ struct jhead {
 
 int CLASS ljpeg_start (struct jhead *jh, int info_only)
 {
-  int c, tag, len;
+  int c, tag;
+  ushort len;
   uchar data[0x10000];
   const uchar *dp;
 
